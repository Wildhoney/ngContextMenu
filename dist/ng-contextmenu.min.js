/*! ng-contextmenu by Adam Timberlake <adam.timberlake@gmail.com> created on 2019-04-03 */

!function(e,n){"use strict";var t=e.module("ngContextMenu",[]);t.factory("contextMenu",["$rootScope",function(e){return{cancelAll:function(){e.$broadcast("context-menu/close")},eventBound:!1}}]),t.directive("contextMenu",["$timeout","$interpolate","$compile","contextMenu","$templateRequest","$sce",function(t,o,u,i,c,l){return{restrict:"EA",scope:!0,require:"?ngModel",link:function(t,r,a,s){function p(){t.menu&&(t.menu.remove(),t.menu=null,t.position=null)}function d(r,d){if(d=d||"append","preventDefault"in r)a.persistentMenu||i.cancelAll(),r.stopPropagation(),r.preventDefault(),t.position={x:r.clientX,y:r.clientY};else if(!t.menu)return;var m=t.menu;a.persistentMenu&&i.cancelAll(),a.persistentMenu&&m||c(l.getTrustedResourceUrl(a.contextMenu)).then(function(i){var c=u(i)(e.extend(s?e.extend(t,s.$modelValue):t)),l=e.element(c);switch(d){case"append":angular.element(n.body).append(l);break;default:t.menu.replaceWith(l)}l.css({position:a.contextMenuPosition||"fixed",top:0,left:0,transform:o("translate({{x}}px, {{y}}px)")({x:t.position.x,y:t.position.y})}),t.menu=l,a.persistentMenu||t.menu.bind("click",p)})}if(i.eventBound||(n.addEventListener("click",function(e){1===e.which&&(i.cancelAll(),t.$apply())}),i.eventBound=!0),t.$on("context-menu/close",p),t.$on("$destroy",p),s){t.$watch(function(){return s.$modelValue},function(){d({},"replaceWith")},!0)}r.bind(a.contextEvent||"contextmenu",d)}}}])}(window.angular,window.document);